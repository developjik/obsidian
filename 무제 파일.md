ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ `React`ì˜ `useRef`ë¥¼ í™œìš©í•œ **ì…ë ¥ ìµœì í™” ë°©ë²•**ê³¼ `TypeScript` í†µí•©ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. 

## ğŸ“š ëª©ì°¨
1. `useRef` ê°œìš”ì™€ ì‚¬ìš© ëª©ì 
2. ì…ë ¥ ìµœì í™” êµ¬í˜„í•˜ê¸°
3. `TypeScript`ì™€ì˜ í†µí•©
4. ë¶€ëª¨-ìì‹ ì»´í¬ë„ŒíŠ¸ ê°„ DOM ì œì–´
5. ì‹¤ì „ í™œìš© ì˜ˆì œì™€ ì»¤ìŠ¤í…€ í›…
6. ì„±ëŠ¥ ìµœì í™” ì „ëµ
---
## 1. useRef ê°œìš”ì™€ ì‚¬ìš© ëª©ì 

### useRefê°€ í•„ìš”í•œ ì´ìœ 
`React`ì—ì„œ ìƒíƒœ ê´€ë¦¬ë¥¼ í•  ë•Œ ë³´í†µ `useState`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ëª¨ë“  ìƒí™©ì—ì„œ `useState`ê°€ ìµœì„ ì€ ì•„ë‹™ë‹ˆë‹¤. íŠ¹íˆ ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì—ëŠ” `useRef`ê°€ ë” ì í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **ë¹ˆë²ˆí•œ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ê°’**
- **ë Œë”ë§ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šì•„ì•¼ í•˜ëŠ” ê°’**
- **DOM ìš”ì†Œë¥¼ ì§ì ‘ ì¡°ì‘í•´ì•¼ í•˜ëŠ” ê²½ìš°**

### useState vs useRef ë¹„êµ
```typescript
// useState ì‚¬ìš© ì‹œ - ë§¤ ì…ë ¥ë§ˆë‹¤ ë¦¬ë Œë”ë§ ë°œìƒ
const [value, setValue] = useState('');
const handleChange = (e: ChangeEvent<HTMLInputElement>) => {
  setValue(e.target.value); // ë¦¬ë Œë”ë§ ë°œìƒ
};

// useRef ì‚¬ìš© ì‹œ - ë¦¬ë Œë”ë§ ì—†ìŒ
const valueRef = useRef('');
const handleChange = (e: ChangeEvent<HTMLInputElement>) => {
  valueRef.current = e.target.value; // ë¦¬ë Œë”ë§ ì—†ìŒ
};
```

---
## 2. ì…ë ¥ ìµœì í™” êµ¬í˜„í•˜ê¸°

### ê¸°ë³¸ì ì¸ íƒ€ì… ì •ì˜
```typescript
interface InputChangeEvent extends React.ChangeEvent<HTMLInputElement> {
  target: HTMLInputElement;
}

interface OptimizedInputFormProps {
  onSubmit?: (value: string) => void;
  placeholder?: string;
}
```

### ìµœì í™”ëœ ì…ë ¥ ì»´í¬ë„ŒíŠ¸
```typescript
const OptimizedInputForm: React.FC<OptimizedInputFormProps> = ({
  onSubmit,
  placeholder = 'í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”'
}) => {
  const [renderCount, setRenderCount] = useState<number>(0);
  const inputRef = useRef<string>('');
  
  const handleChange = (e: InputChangeEvent): void => {
    inputRef.current = e.target.value;
  };
  
  const handleSubmit = (): void => {
    setRenderCount(prev => prev + 1);
    onSubmit?.(inputRef.current);
  };
  
  return (
    <div className="p-4">
      <input
        type="text"
        onChange={handleChange}
        placeholder={placeholder}
        className="border rounded p-2 w-full"
      />
      <button 
        onClick={handleSubmit}
        className="mt-2 bg-blue-500 text-white px-4 py-2 rounded"
      >
        ì œì¶œ
      </button>
      <div className="mt-2">ë Œë”ë§ íšŸìˆ˜: {renderCount}</div>
    </div>
  );
};
```

---
## 3. TypeScriptì™€ì˜ í†µí•©

### useRefì˜ íƒ€ì… ì •ì˜
```typescript
// DOM ìš”ì†Œ ì°¸ì¡°
const inputRef = useRef<HTMLInputElement>(null);

// ê°’ ì €ì¥
const valueRef = useRef<string>('');

// ë³µì¡í•œ ê°ì²´ ì €ì¥
interface UserData {
  name: string;
  age: number;
}
const userDataRef = useRef<UserData>({ name: '', age: 0 });
```

### íƒ€ì… ì•ˆì „ì„± í™•ë³´
```typescript
// null ì²´í¬ì™€ ì˜µì…”ë„ ì²´ì´ë‹ í™œìš©
const focusInput = () => {
  inputRef.current?.focus();
};

// íƒ€ì… ê°€ë“œ í™œìš©
function isInputElement(element: unknown): element is HTMLInputElement {
  return element instanceof HTMLInputElement;
}

if (isInputElement(inputRef.current)) {
  inputRef.current.focus();
}
```

---
## 4. ë¶€ëª¨-ìì‹ ì»´í¬ë„ŒíŠ¸ ê°„ DOM ì œì–´

### ì»´í¬ë„ŒíŠ¸ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
```typescript
interface ChildInputProps {
  inputRef: React.RefObject<HTMLInputElement>;
  placeholder?: string;
}

interface ParentComponentProps {
  initialValue?: string;
}
```

### êµ¬í˜„ ì˜ˆì œ
```typescript
const ChildInput: React.FC<ChildInputProps> = ({ 
  inputRef, 
  placeholder 
}) => (
  <input
    ref={inputRef}
    type="text"
    placeholder={placeholder}
    className="border rounded p-2 w-full"
  />
);

const ParentComponent: React.FC<ParentComponentProps> = ({ 
  initialValue = '' 
}) => {
  const childInputRef = useRef<HTMLInputElement>(null);
  
  const handleSetValue = (): void => {
    if (childInputRef.current) {
      childInputRef.current.value = initialValue;
    }
  };
  
  return (
    <div>
      <ChildInput inputRef={childInputRef} />
      <button onClick={handleSetValue}>ê°’ ì„¤ì •</button>
    </div>
  );
};
```

---
## 5. ì‹¤ì „ í™œìš© ì˜ˆì œì™€ ì»¤ìŠ¤í…€ í›…

### useRefInput ì»¤ìŠ¤í…€ í›…
```typescript
interface UseRefInputReturn {
  value: string;
  setValue: (newValue: string) => void;
  reset: () => void;
  inputRef: React.RefObject<HTMLInputElement>;
}

function useRefInput(initialValue: string = ''): UseRefInputReturn {
  const inputRef = useRef<HTMLInputElement>(null);
  const valueRef = useRef<string>(initialValue);
  
  const setValue = (newValue: string): void => {
    valueRef.current = newValue;
    if (inputRef.current) {
      inputRef.current.value = newValue;
    }
  };
  
  const reset = (): void => {
    setValue(initialValue);
  };
  
  return {
    value: valueRef.current,
    setValue,
    reset,
    inputRef
  };
}
```

### ì‚¬ìš© ì˜ˆì‹œ
```typescript
const InputWithCustomHook: React.FC = () => {
  const { value, setValue, reset, inputRef } = useRefInput('ì´ˆê¸°ê°’');
  
  return (
    <div className="space-y-2">
      <input
        ref={inputRef}
        type="text"
        onChange={(e) => setValue(e.target.value)}
        className="border rounded p-2"
      />
      <button 
        onClick={reset}
        className="bg-gray-500 text-white px-4 py-2 rounded"
      >
        ì´ˆê¸°í™”
      </button>
    </div>
  );
};
```

---
## 6. ì„±ëŠ¥ ìµœì í™” ì „ëµ

### ë©”ëª¨ì´ì œì´ì…˜ í™œìš©
```typescript
const MemoizedChildInput = React.memo(ChildInput);

// ì‚¬ìš©
<MemoizedChildInput inputRef={inputRef} />
```

### ì¡°ê±´ë¶€ ë Œë”ë§ ìµœì í™”
```typescript
const ConditionalRender: React.FC = () => {
  const valueRef = useRef<string>('');
  const [shouldUpdate, setShouldUpdate] = useState(false);

  const handleChange = (e: InputChangeEvent) => {
    valueRef.current = e.target.value;
    // íŠ¹ì • ì¡°ê±´ì—ì„œë§Œ ë¦¬ë Œë”ë§
    if (e.target.value.length > 5) {
      setShouldUpdate(true);
    }
  };

  return (
    <input onChange={handleChange} />
  );
};
```

---
### ì°¸ê³  ìë£Œ
- [React ê³µì‹ ë¬¸ì„œ - useRef](https://reactjs.org/docs/hooks-reference.html#useref)
- [TypeScript ê³µì‹ ë¬¸ì„œ](https://www.typescriptlang.org/docs/)
- [React TypeScript Cheatsheet](https://react-typescript-cheatsheet.netlify.app/)