---
sticker: lucide//github
tags:
  - git
  - github
date: 2024-04-06
---
## `git rebase` 란?

`git rebase`는 `git`에서 사용되는 중요한 기능 중 하나로, 주로 **브랜치를 합칠 때 사용**됩니다. 기본적으로, rebase는 두 개의 다른 브랜치를 한 브랜치로 합칠 때 이전의 커밋을 새로운 기준점에 올립니다.

간단히 말하면, rebase는 특정 브랜치에서 다른 브랜치의 변경 사항을 가져와서, 이를 현재 브랜치의 끝에 붙이는 작업입니다. 이 작업을 통해 기록이 깨끗하고 선형적으로 유지되며, 병합 커밋이 최소화됩니다.

Rebase는 주로 다음과 같은 상황에서 사용됩니다:

1. 기능 브랜치를 메인 브랜치로 병합하기 전에 메인 브랜치의 변경 사항을 통합할 때
2. 로컬에서 개발하던 작업을 원격 저장소의 메인 브랜치에 푸시하기 전에 로컬 브랜치를 업데이트할 때
3. 커밋 기록을 깨끗하게 유지하고, 병합 커밋을 최소화하기 위해

그러나 주의할 점이 있습니다. Rebase는 커밋의 기록을 변경하므로, 이미 공유된 커밋을 다시베이스할 때는 주의해야 합니다. 특히, 이미 공유된 커밋을 다시베이스할 경우 충돌이 발생할 수 있고, 이를 해결하려면 추가적인 작업이 필요할 수 있습니다.

이러한 이유로, rebase를 사용할 때는 주의를 기울여야 하며, 특히 협업하는 환경에서는 다른 개발자들과의 커밋 히스토리 충돌을 최소화하기 위해 주의를 기울여야 합니다.
## `git rebase` 예시

1. 먼저, 새로운 기능을 개발하기 위해 새로운 브랜치를 만들어 보겠습니다.
```
git checkout -b new-feature
```

2. 이제 새로운 브랜치에서 몇 가지 변경을 만들어보겠습니다. 예를 들어, 코드, 파일을 수정하고, 이를 커밋합니다.
```
# 코드 수정 후
git add .
git commit -m "Add new feature implementation"
```

3. 이제 메인 브랜치로 이동하여 메인 브랜치의 변경 사항을 가져오고 싶다고 가정해 보겠습니다.
```
git checkout main
git pull origin main
```

4. 그런 다음, 이제 새로운 기능 브랜치를 메인 브랜치와 합치려고 합니다. 이때 rebase를 사용합니다.
```
git checkout new-feature
git rebase main
```

5. 이제 Git은 새로운 기능 브랜치에서 만든 변경 사항을 메인 브랜치의 최신 커밋 위에 쌓습니다. 이 과정에서 충돌이 발생할 수 있습니다. 만약 충돌이 발생하면, 충돌을 해결하고 다음 명령어를 사용하여 계속 진행합니다.
```
git add .
git rebase --continue
```

6. 충돌이 발생하지 않고 rebase가 완료되면, 새로운 기능 브랜치가 메인 브랜치의 최신 커밋 위에 재배치됩니다.

7. 마지막으로, 변경 사항을 메인 브랜치로 푸시합니다.
```
git checkout main
git merge new-feature
git push origin main
```

이제 변경 사항이 메인 브랜치에 반영되었습니다. 이것이 Git rebase를 사용하여 브랜치를 합치는 간단한 예시입니다.

## `git rebase` 옵션들

1. `--onto <newbase>`: 리베이스를 수행할 대상 베이스(기준)를 지정합니다. 일반적으로는 이 옵션을 사용하여 리베이스할 대상 브랜치를 지정합니다.

2. `-i` 또는 `--interactive`: 대화형 모드로 리베이스를 수행합니다. 이 옵션을 사용하면 리베이스 도중에 커밋들을 재정렬하거나 수정할 수 있는 인터랙티브 모드로 진입할 수 있습니다.

3. `--continue`: 리베이스 도중에 일시 중단된 경우, 이 옵션을 사용하여 리베이스를 계속합니다. 주로 충돌을 해결한 후에 사용됩니다.

4. `--abort`: 리베이스를 중단하고 이전 상태로 되돌립니다.

5. `--skip`: 충돌이 발생했을 때 해당 충돌이나 변경사항을 무시하고 리베이스를 계속합니다.

6. `-p` 또는 `--preserve-merges`: 커밋 히스토리를 보존하여 병합 커밋을 유지하며 리베이스합니다. 이 옵션을 사용하면 병합된 브랜치의 히스토리가 유지됩니다.

7. `-x` 또는 `--exec <command>`: 리베이스 중에 각각의 커밋에 대해 지정된 명령을 실행합니다. 주로 커밋 메시지에 어떤 작업을 수행했는지를 기록하기 위해 사용됩니다.

8. `-s` 또는 `--strategy <strategy>`: 리베이스 전략을 지정합니다. 예를 들어, `-s recursive` 옵션을 사용하여 리베이스의 전략을 재귀적으로 변경합니다.

9. `-X<option>`: 리베이스 과정에서 더 많은 옵션을 지정합니다. 예를 들어, `-X theirs`나 `-X ours`를 사용하여 충돌이 발생했을 때 어떤 브랜치의 변경을 우선적으로 선택할지를 지정할 수 있습니다.

이 외에도 다양한 옵션이 있으며, `git rebase --help` 명령을 통해 전체 옵션 목록을 확인할 수 있습니다.