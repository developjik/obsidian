---
sticker: lucide//github
tags:
  - git
  - github
date: 2024-03-26
---
## `git reset` 를 활용한 원격 commit 되돌리기

`git reset` 명령을 사용하여 원격 저장소의 commit을 되돌리는 것은 조심스러운 작업입니다. 
이것은 공유된 저장소에 영향을 미치기 때문에 주의해야 합니다. 

1. **원격 저장소로부터 로컬로 가져오기**: 먼저 원격 저장소의 상태를 로컬로 가져와야 합니다. 이를 위해 `git fetch` 명령을 사용합니다.

    ```bash
    git fetch origin
    ```

2. **커밋 되돌리기**: 이제 `git reset` 명령을 사용하여 원하는 커밋으로 되돌릴 수 있습니다. 주의해야 할 점은 `--hard` 옵션을 사용하면 작업 디렉토리의 변경 사항이 모두 삭제되므로 사용하기 전에 주의해야 합니다. `git reset`은 주로 브랜치의 특정 커밋으로 이동하는 데 사용됩니다.

    예를 들어, 최근 두 개의 커밋을 되돌리려면:

    ```bash
    git reset --hard HEAD~2
    ```

    여기서 `HEAD~2`는 HEAD로부터 두 번째 이전 커밋을 가리킵니다.

3. **강제 푸시**: 로컬 변경 사항을 원격 저장소에 반영하기 위해 `git push` 명령을 사용합니다. 하지만 이 명령을 사용할 때 `--force`나 `-f` 옵션을 사용하여 강제로 푸시해야 합니다. 이는 저장소의 히스토리를 변경하므로 조심해야 합니다.

    ```bash
    git push origin <branch> --force
    ```

    여기서 `<branch>`는 변경 사항을 푸시할 브랜치의 이름입니다.

위 단계를 사용하면 로컬 변경 사항을 원격 저장소에서 되돌릴 수 있습니다. 그러나 주의해야 할 점은 이러한 작업은 저장소의 히스토리를 변경하므로 주의해서 사용해야 합니다. 가능하면 `git revert`를 사용하여 변경 사항을 되돌리는 것이 좋습니다.

>일반적으로 변경 내용을 되돌리는 방법은 `git revert`를 사용하는 것입니다. 
>이 명령은 새로운 커밋을 생성하여 이전 변경 내용을 취소합니다. 
>하지만 여전히 공유된 저장소에 새로운 커밋이 기록됩니다.

## `git revert` 를 활용한 원격 commit 되돌리기

`git revert`를 사용하여 원격 저장소의 commit을 되돌리는 것은 더 안전하고 권장되는 방법입니다. 
`git revert`는 이전 커밋을 취소하고 이를 되돌린 내용에 대한 새로운 커밋을 만듭니다.
이렇게 하면 원격 저장소의 히스토리를 변경하지 않고도 변경 내용을 적용할 수 있습니다.

다음은 `git revert`를 사용하여 원격 저장소의 커밋을 되돌리는 단계입니다.

1. **원격 저장소로부터 로컬로 가져오기**: 먼저 원격 저장소의 상태를 로컬로 가져와야 합니다. 이를 위해 `git fetch` 명령을 사용합니다.

    ```bash
    git fetch origin
    ```

2. **커밋 되돌리기**: `git revert` 명령을 사용하여 특정 커밋을 되돌릴 수 있습니다. 예를 들어, `HEAD`의 바로 이전 커밋을 되돌리려면 다음과 같이 실행합니다.

    ```bash
    git revert HEAD
    ```

    이 명령은 이전 커밋을 취소하고 이를 되돌린 내용에 대한 새로운 커밋을 만듭니다.

3. **강제 푸시**: 로컬 변경 사항을 원격 저장소에 반영하기 위해 `git push` 명령을 사용합니다. 이 때 `--force`나 `-f` 옵션은 사용하지 않습니다. `git revert`를 사용하면 새로운 커밋이 생성되므로 일반적인 `git push` 명령을 사용할 수 있습니다.

    ```bash
    git push origin <branch>
    ```

    여기서 `<branch>`는 변경 사항을 푸시할 브랜치의 이름입니다.

위 단계를 사용하면 로컬에서 변경 사항을 만들고 원격 저장소에 새로운 커밋을 푸시할 수 있습니다. 이를 통해 원격 저장소의 커밋을 안전하게 되돌릴 수 있습니다.