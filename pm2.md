---
sticker: emoji//1f93d-200d-2642-fe0f
---
## **PM2** 란?
- `PM2`는 `Production Process Manager for Node.js`의 줄임말
- `Node.js`를 통해서 만든 애플리케이션의 프로세스를 관리해주는 프로그램을 뜻한다. 
- 애플리케이션을 손쉽게 **배포**, **모니터링**, **유지보수** 할 수 있도록 도와줍니다. 

---

## PM2 주요 기능

1. **애플리케이션 모니터링**

`PM2`는 애플리케이션의 상태를 **실시간 모니터링**할 수 있는 기능을 제공합니다. 이는 **메모리 사용량**, **CPU 사용량**, `응답 시간` 등 다양한 메트릭을 추적하여 애플리케이션 **성능을 최적화**하는 데 도움이 됩니다.

2. **자동 재시작**

애플리케이션이 예기치 않게 종료되었을 때 `PM2`는 **자동으로 해당 애플리케이션을 재시작**합니다. 이를 통해 애플리케이션의 가용성을 높일 수 있습니다.

3. **로드 밸런싱**:

`PM2`는 여러 인스턴스를 `클러스터 모드`로 실행하여 `로드 밸런싱`을 수행할 수 있습니다. 이를 통해 애플리케이션의 **성능을 향상**시키고, **트래픽을 효율적으로 분산**시킬 수 있습니다.

4. **로그 관리**:

`PM2`는 애플리케이션의 **로그를 중앙에서 관리할 수 있는 기능**을 제공합니다. 이를 통해 로그 파일을 손쉽게 검색하고 분석할 수 있습니다.

5. **배포 관리**:

`PM2`는 **배포 파이프라인을 구성**하여 애플리케이션을 **다양한 환경에 손쉽게 배포**할 수 있는 기능을 제공합니다. 이를 통해 DevOps 프로세스를 간소화할 수 있습니다.

---
  
## PM2 설치 

```bash
npm install pm2 -g
```

---

## PM2 기본명령어

### 시작

```bash
pm2 start app.js
```

여기서 `app.js`는 실행할 Node.js 애플리케이션의 엔트리 파일입니다.

### 실행 중인 프로세스 목록 보기

```bash
pm2 list
```

### 재시작

```bash
pm2 restart app.js
```

### 종료

```bash
pm2 stop app.js
```

### 로그 보기

```bash
pm2 logs
```

### 고급 설정

#### 환경 변수 설정

```bash
pm2 start app.js --env production
```

#### JSON 파일을 통한 설정

```json
{
  "apps": [
    {
      "name": "app",
      "script": "app.js",
      "instances": 4,
      "exec_mode": "cluster"
    }
  ]
}
```

위의 설정 파일을 사용하여 애플리케이션을 시작하려면 다음 명령어를 사용합니다.

```bash
pm2 start ecosystem.config.js
```